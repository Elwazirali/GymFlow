<ion-view title="Users" ng-controller="profileCtrl as vm">
  <ion-pane>
    <ion-header-bar class="bar-assertive">
      <h1 class="title">GymFlow</h1>
      <button class="button button-icon" ng-click="vm.openTaskModal()">
        <i class="icon ion-compose"></i>
      </button>
    </ion-header-bar>
    <ion-content>
      <div class="list card" ng-repeat="task in vm.tasks track by $index">
        <div class="item item-divider">
          <span ng-bind="task.title"></span>
        </div>
        <div class="item item-body">
          <strong>Title: <span ng-bind="task.title"></span></strong>
          <p>
            <span ng-bind="task.content"></span>
          </p>
        </div>

        <div class="item tabs tabs-secondary tabs-icon-left">
                    <span class="item item-checkbox">
                        <label class="checkbox">
                          <input type="checkbox" ng-model="vm.task.completed" ng-click="vm.completeTask($index)">
                        </label>
                    </span>
          <a class="tab-item assertive" ng-click="vm.removeTask($index)">
            <i class="icon ion-android-close"></i>
          </a>
        </div>

      </div>
    </ion-content>
  </ion-pane>
  <script id="new-task-modal.html" type="text/ng-template">
    <ion-modal-view>
      <ion-header-bar class="bar-balanced">
        <h1 class="title">Create a new Task</h1>
        <button class="button button-icon" ng-click="vm.closeTaskModal()">
          <i class="icon ion-android-close"></i>
        </button>
      </ion-header-bar>
      <ion-content>
        <form ng-submit="vm.createTask()">
          <div class="list list-inset">
            <label class="item item-input">
              <input ng-model="vm.task.title" type="text" placeholder="Task title">
            </label>
            <label class="item item-input">
              <textarea ng-model="vm.task.content" rows="5" placeholder="Task content"></textarea>
            </label>
            <ul class="list">
              <li class="item item-toggle">
                Completed?
                <label class="toggle toggle-balanced">
                  <input type="checkbox" ng-model="vm.task.completed">
                  <div class="track">
                    <div class="handle"></div>
                  </div>
                </label>
              </li>
            </ul>
            <button type="submit" class="button button-block button-positive">Create Task</button>
          </div>
        </form>
      </ion-content>
    </ion-modal-view>
  </script>
</ion-view>
